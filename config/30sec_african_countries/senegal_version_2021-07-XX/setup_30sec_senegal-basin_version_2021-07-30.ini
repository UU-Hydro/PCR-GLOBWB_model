[globalOptions]

# Set the pcrglobwb output directory in an absolute path.
outputDir   = MAIN_OUTPUT_DIR


# Set the input directory map in an absolute path. 
# - The input forcing and parameter directories and files will be relative to this.
inputDir    = /rds/general/user/esutanud/projects/arise/live/HydroModelling/edwin/data/pcrglobwb_input_arise/develop/


# Map of clone (must be provided in PCRaster maps)
# - Spatial resolution and coverage are based on this map:
cloneMap    = africa_30sec/cloneMaps/version_2020-XX-XX/clone_basins_of_senegal_167_gambia_72.map

 
 
# The area/landmask of interest:
# If None, area/landmask is limited for cells with ldd value. 
landmask    = None
# TODO/FIXME: We set the landmask = None, as the current landmask excludes some parts of lakes located in the border. Note that while making new landmask, please also consider the extent of your forcing (in order to get rid off missing values of forcing that can lead to always-zero temperature cells, and therefore unrealistic snow).


# netcdf attributes for output files:
institution = Department of Physical Geography, Utrecht University
title       = PCR-GLOBWB 2 output (not coupled to MODFLOW), with human factors (non-natural) - MAIN_OUTPUT_DIR
description = by Edwin H. Sutanudjaja (contact: e.h.sutanudjaja@uu.nl), PCR-GLOBWB run with human factors (non-natural) at 30 arcsec resolution - MAIN_OUTPUT_DIR


startTime = STARTING_DATE
endTime   = END_DATE
# Format: YYYY-MM-DD ; The model runs on daily time step.


# spinning up options:
#~ maxSpinUpsInYears = 5
maxSpinUpsInYears    = NUMBER_OF_SPINUP_YEARS
minConvForSoilSto    = 0.0
minConvForGwatSto    = 0.0
minConvForChanSto    = 0.0
minConvForTotlSto    = 0.0

# option/directory for saving the spin-up directory 
spinUpOutputDir = True


[meteoOptions]


# Set the forcing precipitation file (may be defined relative to inputDir)
# - w5e5 downscaled with chirps
precipitationNC = /rds/general/user/esutanud/projects/arise/live/HydroModelling/edwin/data/isimip_forcing/w5e5_version_2.0_downscaled_with_chirps/pr_W5E5v2.0_1981-2019_mm_per_day_africa_downscaled_with_chirps.nc 
# variable name in the forcing file
precipitationVariableName = pr


#~ esutanud@login-5:/rds/general/user/esutanud/projects/arise/live/HydroModelling/edwin/data/meteo_arise/era5land_africa/africa_merged/1981-2019/daily_150sec$ ls -lah *
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 26 16:19 africa_era5-land_daily_d2m-average_rempacon-150-arcsec_daily.nc
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 26 17:51 africa_era5-land_daily_d2m-maximum_rempacon-150-arcsec_daily.nc
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 26 19:08 africa_era5-land_daily_d2m-minimum_rempacon-150-arcsec_daily.nc
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 26 20:29 africa_era5-land_daily_fal-average_rempacon-150-arcsec_daily.nc
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 26 22:18 africa_era5-land_daily_spressu-avg_rempacon-150-arcsec_daily.nc
#~ -r-xr-sr-x 1 esutanud rds-000549 326G Mar 27 00:09 africa_era5-land_daily_t2m-average_rempacon-150-arcsec_daily.nc
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 27 02:01 africa_era5-land_daily_t2m-maximum_rempacon-150-arcsec_daily.nc
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 27 03:52 africa_era5-land_daily_t2m-minimum_rempacon-150-arcsec_daily.nc
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 27 05:45 africa_era5-land_daily_total-preci_rempacon-150-arcsec_daily.nc
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 27 07:37 africa_era5-land_daily_total-ssrad_rempacon-150-arcsec_daily.nc
#~ -r--r-s--- 1 esutanud rds-000549 326G Mar 27 09:29 africa_era5-land_daily_wind10m-avg_rempacon-150-arcsec_daily.nc


# temperature
temperatureNC = /rds/general/user/esutanud/projects/arise/live/HydroModelling/edwin/data/meteo_arise/era5land_africa/africa_merged/1981-2019/daily_150sec/africa_era5-land_daily_t2m-average_rempacon-150-arcsec_daily.nc
temperatureVariableName = t2m


# Method to calculate referencePotETP (reference potential evaporation+transpiration)
# options are "Hamon" and "Input" ; If "Input", the netcdf input file must be given:
referenceETPotMethod = Penman-Monteith
refETPotFileNC       = None

#~ referenceEPotVariableName = potentialEvaporation



# conversion constants and factors to correct forcing values (optional) so that the units are in m.day-1 and degree Celcius                                                                                                           
precipitationConstant    = 0.0
precipitationFactor      = 0.001
temperatureConstant      = -273.15
temperatureFactor        = 1.0
#~ referenceEPotConstant = 0.0
#~ referenceEPotFactor   = 1.0


# extra meteo variables for calculating reference potential evaporation based on Penman-Monteith (optional)
#
# - 10 m wind speed, unit: m.s-1
wind_speed_10m              = /rds/general/user/esutanud/projects/arise/live/HydroModelling/edwin/data/meteo_arise/era5land_africa/africa_merged/1981-2019/daily_150sec/africa_era5-land_daily_wind10m-avg_rempacon-150-arcsec_daily.nc
#~ # - if wind_speed_10m is None, it will be estimated from u and v components
#~ wind_speed_10m_u_comp    = None
#~ wind_speed_10m_v_comp    = None
#
# - atmospheric pressure, unit: Pascal
atmospheric_pressure        = /rds/general/user/esutanud/projects/arise/live/HydroModelling/edwin/data/meteo_arise/era5land_africa/africa_merged/1981-2019/daily_150sec/africa_era5-land_daily_spressu-avg_rempacon-150-arcsec_daily.nc
#
# - extraterestrial radiation, unit: J.m-2.day-1
extraterestrial_radiation   = None
# - if extraterestrial_radiation is None, it will be calculated based on day length, latitude, day angle and day length

# - actual shortwave (solar) radiation, unit: J.m-2.day-1
shortwave_radiation         = None
# - if shortwave_radiation = None, actual shortwave (solar) radiation can be estimated from net radiation and albedo: ssrd = ssr / (1 - albedo) 
surface_net_solar_radiation = /rds/general/user/esutanud/projects/arise/live/HydroModelling/edwin/data/meteo_arise/era5land_africa/africa_merged/1981-2019/daily_150sec/africa_era5-land_daily_total-ssrad_rempacon-150-arcsec_daily.nc
albedo                      = /rds/general/user/esutanud/projects/arise/live/HydroModelling/edwin/data/meteo_arise/era5land_africa/africa_merged/1981-2019/daily_150sec/africa_era5-land_daily_fal-average_rempacon-150-arcsec_daily.nc
#
# - 2 m dew point temperature (average), unit: degree Celcius  
dewpoint_temperature_avg    = /rds/general/user/esutanud/projects/arise/live/HydroModelling/edwin/data/meteo_arise/era5land_africa/africa_merged/1981-2019/daily_150sec/africa_era5-land_daily_d2m-average_rempacon-150-arcsec_daily.nc
#

# conversion constants and factors to correct forcing values (optional) so that the units are in m.day-1 (precipitation), degree Celcius (temperature), Pascal (pressure), m.s-1, and J.m-2.day-1 (radiation)
consta_for_dewpoint_temperature_avg = -273.15                                                                                                      
factor_for_dewpoint_temperature_avg = 1.0 


# cell area (unit: m2)
cellAreaMap = global_30sec/routing/cell_area/cdo_grid_area_30sec_map_correct_lat.nc


#~ # option to call the meteo/forcing method only
#~ callMeteoOnly = True
#~ # - TODO: Please check whether this is correct.


# initial conditions:
avgAnnualDiurnalDeltaTempIni = MAIN_INITIAL_STATE_FOLDER/avgAnnualDiurnalDeltaTemp_DATE_FOR_INITIAL_STATES.map
avgAnnualPrecipitationIni    = MAIN_INITIAL_STATE_FOLDER/avgAnnualPrecipitation_DATE_FOR_INITIAL_STATES.map
avgAnnualTemperatureIni      = MAIN_INITIAL_STATE_FOLDER/avgAnnualTemperature_DATE_FOR_INITIAL_STATES.map


# - for debugging
#~ outDailyTotNC = precipitation_before_downscaling,temperature_before_downscaling,referencePotET_before_downscaling,cellArea,avgAnnualPrecipitation        
outDailyTotNC = None        
outMonthTotNC = None 
outMonthAvgNC = None
outMonthEndNC = None
outAnnuaTotNC = None
outAnnuaAvgNC = None
outAnnuaEndNC = None



[meteoDownscalingOptions]
                                                                                                                                        
downscalePrecipitation  = False                                                                                                                                   
downscaleTemperature    = True                                                                                                                                  
downscaleReferenceETPot = False                                                                                                                                   
   
# downscaling (based on the digital elevation model):                                                                                                            
highResolutionDEM = global_30sec/landSurface/topography/merit_dem_processed/version_2021-02-XX/maps_covered_with_zero/dem_average_topography_parameters_30sec_february_2021_global_covered_with_zero.nc

# The downscaling will be performed by providing the "cellIds" (meteoDownscaleIds) of lower resolution cells.                                                    
meteoDownscaleIds = global_30sec/meteo/unique_ids/unique_ids_150_arcsec_correct_lats.nc

# lapse rates:                                                                                                                                                   
temperLapseRateNC = global_05min_from_gmd_paper_input/meteo/downscaling_from_30min/temperature_slope.nc                                                                     
precipLapseRateNC = global_05min_from_gmd_paper_input/meteo/downscaling_from_30min/precipitation_slope.nc                                                                   
                                                                                                                                                                 
# downscaling criteria (TODO: remove these):                                                                                                                     
temperatCorrelNC  = global_05min_from_gmd_paper_input/meteo/downscaling_from_30min/temperature_correl.nc                                                                     
precipitCorrelNC  = global_05min_from_gmd_paper_input/meteo/downscaling_from_30min/precipitation_correl.nc                                                                   
	                                                                                                                                                                 
# windows length (unit: arc-degree) for smoothing/averaging forcing data (not recommended):                                                                      
smoothingWindowsLength = 0


[landSurfaceOptions]

debugWaterBalance = True

numberOfUpperSoilLayers = 2

# topography parameters
# - they are used for all land cover types, unless they are are defined in certain land cover type options 
#   (e.g. different/various soil types for agriculture areas)  
topographyNC = global_30sec/landSurface/topography/merit_dem_processed/version_2021-02-XX/maps_covered_with_zero/topography_parameters_30sec_february_2021_global_covered_with_zero.nc

soilPropertiesNC = None
# - if soilPropertiesNC = None, the following soil parameters will be used
firstStorDepth       = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/layerDepth_average_1_africa_30sec.nc
secondStorDepth      = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/layerDepth_average_2_africa_30sec.nc
soilWaterStorageCap1 = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/WHC_average_1_africa_30sec.nc
soilWaterStorageCap2 = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/WHC_average_2_africa_30sec.nc
airEntryValue1       = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/psiAir_average_1_africa_30sec.nc
airEntryValue2       = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/psiAir_average_2_africa_30sec.nc
poreSizeBeta1        = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/BCH_average_1_africa_30sec.nc
poreSizeBeta2        = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/BCH_average_2_africa_30sec.nc
resVolWC1            = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/vmcRes_average_1_africa_30sec.nc
resVolWC2            = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/vmcRes_average_2_africa_30sec.nc
satVolWC1            = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/vmcSat_average_1_africa_30sec.nc
satVolWC2            = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/vmcSat_average_2_africa_30sec.nc
KSat1                = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/kSat_average_1_africa_30sec.nc
KSat2                = africa_30sec/landSurface/soil/soilgrids/version_2021-02-XX/kSat_average_2_africa_30sec.nc

percolationImp       = global_30sec/landSurface/soil/impeded_drainage/global_30sec_impeded_drainage_permafrost_dsmw_correct_lats.nc


includeIrrigation = True

#~ # netcdf time series for historical expansion of irrigation areas (unit: hectares). 
#~ # Note: The resolution of this map must be consisten with the resolution of cellArea. 
#~ historicalIrrigationArea = global_05min/waterUse/irrigation/irrigated_areas/irrigationArea05ArcMin.nc
#~ # TODO: Update this using fraction from Louise


# land cover classes
landCoverTypes = naturalVegetationAndRainFedCrops,irrPaddy,irrNonPaddy

# we have to correct land cover fractions
noLandCoverFractionCorrection = False


# a pcraster map/value defining irrigation efficiency (dimensionless) - optional
irrigationEfficiency = global_30min_from_gmd_paper_input/waterUse/irrigation/irrigation_efficiency/efficiency.nc


includeDomesticWaterDemand  = True
includeIndustryWaterDemand  = True
includeLivestockWaterDemand = True


# domestic, industrial and livestock water demand data (unit must be in m.day-1)
domesticWaterDemandFile  = global_05min_from_gmd_paper_input/waterUse/waterDemand/domestic/domestic_water_demand_version_april_2015.nc
industryWaterDemandFile  = global_05min_from_gmd_paper_input/waterUse/waterDemand/industry/industry_water_demand_version_april_2015.nc
livestockWaterDemandFile = global_05min_from_gmd_paper_input/waterUse/waterDemand/livestock/livestock_water_demand_version_april_2015.nc


# desalination water supply (maximum/potential/capacity)
desalinationWater = global_05min_from_gmd_paper_input/waterUse/desalination/desalination_water_version_april_2015.nc


# zone IDs (scale) at which allocations of groundwater and surface water (as well as desalinated water) are performed  
allocationSegmentsForGroundSurfaceWater = global_05min_from_gmd_paper_input/waterUse/abstraction_zones/abstraction_zones_60min_05min.nc

# pcraster maps defining the partitioning of groundwater - surface water source 
#
# - predefined surface water - groundwater partitioning for irrigation demand (e.g. based on Siebert, Global Map of Irrigation Areas version 5)
irrigationSurfaceWaterAbstractionFractionData           = global_05min_from_gmd_paper_input/waterUse/source_partitioning/surface_water_fraction_for_irrigation/AEI_SWFRAC.nc
# -- quality map
irrigationSurfaceWaterAbstractionFractionDataQuality    = global_05min_from_gmd_paper_input/waterUse/source_partitioning/surface_water_fraction_for_irrigation/AEI_QUAL.nc
#
# - threshold values defining the preference for surface water source for irrigation purpose
# -- treshold to maximize surface water irrigation use (cells with irrSurfaceWaterAbstractionFraction above this will prioritize irrigation surface water use)
treshold_to_maximize_irrigation_surface_water           = 0.50
# -- treshold to minimize fossil water withdrawal for irrigation (cells with irrSurfaceWaterAbstractionFraction below this have no fossil withdrawal for irrigation)
treshold_to_minimize_fossil_groundwater_irrigation      = 0.70
#
# - predefined surface water - groundwater partitioning for non irrigation demand (e.g. based on McDonald, 2014)
maximumNonIrrigationSurfaceWaterAbstractionFractionData = global_30min_from_gmd_paper_input/waterUse/source_partitioning/surface_water_fraction_for_non_irrigation/max_city_sw_fraction.nc


# option to skip extrapolation
noParameterExtrapolation = True


[naturalVegetationAndRainFedCropsOptions]

name = naturalVegetationAndRainFedCrops
debugWaterBalance = True

# snow module properties
snowModuleType      =  Simple
freezingT           =  0.0
degreeDayFactor     =  0.0055
snowWaterHoldingCap =  0.1
refreezingCoeff     =  0.05

# other paramater values
minTopWaterLayer  = 0.0
minCropKC         = 0.2

#~ (pcrglobwb_python3) sutan101@gpu038.cluster:/scratch/depfg/sutan101/data/pcrglobwb_input_arise/develop/africa_30sec/landSurface/landCover/naturalVegetationAndRainFedCrops/version_2020-12-XX$ ls -lah
#~ total 475G
#~ drwxr-xr-x 2 sutan101 depfg   17 Mar 11 09:44 .
#~ drwxr-xr-x 3 sutan101 depfg    1 Mar 10 15:46 ..
#~ -rw-r--r-- 1 sutan101 depfg 118G Feb  5 09:33 composite-short-n-tall_cover_fraction.nc
#~ -rw-r--r-- 1 sutan101 depfg 118G Feb  5 09:56 composite-short-n-tall_crop_coefficient.nc
#~ -rw-r--r-- 1 sutan101 depfg 118G Feb  5 10:19 composite-short-n-tall_intercept_capacity.nc
#~ -rw-r--r-- 1 sutan101 depfg 118G Feb  5 10:41 composite-short-n-tall_leaf_area_index.nc
#~ -rw-r--r-- 1 sutan101 depfg 1.6K Mar 11 09:42 convert_maps_to_nc_files.sh
#~ -rw-r--r-- 1 sutan101 depfg 330M Feb  5 09:06 maxrootdepth_all.map
#~ -rw-r--r-- 1 sutan101 depfg 330M Mar 11 09:43 maxrootdepth_all.nc
#~ -rw-r--r-- 1 sutan101 depfg 330M Feb  5 09:06 meanrootdepth_all.map
#~ -rw-r--r-- 1 sutan101 depfg 330M Mar 11 09:43 meanrootdepth_all.nc
#~ -rw-r--r-- 1 sutan101 depfg 330M Feb  5 09:07 minrootdepth_all.map
#~ -rw-r--r-- 1 sutan101 depfg 330M Mar 11 09:43 minrootdepth_all.nc
#~ -rw-r--r-- 1 sutan101 depfg 330M Feb  5 09:07 rfrac1_all.map
#~ -rw-r--r-- 1 sutan101 depfg 330M Mar 11 09:44 rfrac1_all.nc
#~ -rw-r--r-- 1 sutan101 depfg 330M Feb  5 09:07 rfrac2_all.map
#~ -rw-r--r-- 1 sutan101 depfg 330M Mar 11 09:44 rfrac2_all.nc
#~ -rw-r--r-- 1 sutan101 depfg   89 Mar 10 15:39 source_phenology.txt
#~ -rw-r--r-- 1 sutan101 depfg   82 Mar 10 15:47 source.txt

cropCoefficientNC = africa_30sec/landSurface/landCover/naturalVegetationAndRainFedCrops/version_2020-12-XX/composite-short-n-tall_crop_coefficient.nc
interceptCapNC    = africa_30sec/landSurface/landCover/naturalVegetationAndRainFedCrops/version_2020-12-XX/composite-short-n-tall_intercept_capacity.nc
coverFractionNC   = africa_30sec/landSurface/landCover/naturalVegetationAndRainFedCrops/version_2020-12-XX/composite-short-n-tall_cover_fraction.nc

landCoverMapsNC   = None
# If NC file is not provided, we have to provide the following pcraster maps:
fracVegCover      = 1.0
minSoilDepthFrac  = 0.99
maxSoilDepthFrac  = 1.01
rootFraction1     = africa_30sec/landSurface/landCover/naturalVegetationAndRainFedCrops/version_2020-12-XX/rfrac1_all.nc
rootFraction2     = africa_30sec/landSurface/landCover/naturalVegetationAndRainFedCrops/version_2020-12-XX/rfrac2_all.nc	
maxRootDepth      = africa_30sec/landSurface/landCover/naturalVegetationAndRainFedCrops/version_2020-12-XX/meanrootdepth_all.nc
# Note: The maxRootDepth is not used for non irrigated land cover types. 	
#
# Parameters for the Arno's scheme:
arnoBeta = None
# If arnoBeta is defined, the soil water capacity distribution is based on this.
# If arnoBeta is NOT defined, maxSoilDepthFrac must be defined such that arnoBeta will be calculated based on maxSoilDepthFrac and minSoilDepthFrac.


# initial conditions:
interceptStorIni = MAIN_INITIAL_STATE_FOLDER/interceptStor_naturalVegetationAndRainFedCrops_DATE_FOR_INITIAL_STATES.map
snowCoverSWEIni  = MAIN_INITIAL_STATE_FOLDER/snowCoverSWE_naturalVegetationAndRainFedCrops_DATE_FOR_INITIAL_STATES.map
snowFreeWaterIni = MAIN_INITIAL_STATE_FOLDER/snowFreeWater_naturalVegetationAndRainFedCrops_DATE_FOR_INITIAL_STATES.map
topWaterLayerIni = MAIN_INITIAL_STATE_FOLDER/topWaterLayer_naturalVegetationAndRainFedCrops_DATE_FOR_INITIAL_STATES.map
storUppIni       = MAIN_INITIAL_STATE_FOLDER/storUpp_naturalVegetationAndRainFedCrops_DATE_FOR_INITIAL_STATES.map
storLowIni       = MAIN_INITIAL_STATE_FOLDER/storLow_naturalVegetationAndRainFedCrops_DATE_FOR_INITIAL_STATES.map
interflowIni     = MAIN_INITIAL_STATE_FOLDER/interflow_naturalVegetationAndRainFedCrops_DATE_FOR_INITIAL_STATES.map

noParameterExtrapolation = True


[irrPaddyOptions]

name = irrPaddy
debugWaterBalance = True

# snow module properties
snowModuleType      =  Simple
freezingT           =  0.0
degreeDayFactor     =  0.0055
snowWaterHoldingCap =  0.1
refreezingCoeff     =  0.05
#
landCoverMapsNC  = None
# If NC file is not provided, we have to provide the following values:
#
fracVegCover     = global_30sec/landSurface/landCover/irrigated_fractions/global_estimate_irrigation_paddy_fraction_30sec.nc
minSoilDepthFrac = 0.99
maxSoilDepthFrac = 1.01
rootFraction1    = global_30min_from_gmd_paper_input/landSurface/landCover/irrPaddy/rfrac1_paddy.nc
rootFraction2    = global_30min_from_gmd_paper_input/landSurface/landCover/irrPaddy/rfrac2_paddy.nc
maxRootDepth     = 0.5
#
# Parameters for the Arno's scheme:
arnoBeta = None
# If arnoBeta is defined, the soil water capacity distribution is based on this.
# If arnoBeta is NOT defined, maxSoilDepthFrac must be defined such that arnoBeta will be calculated based on maxSoilDepthFrac and minSoilDepthFrac.
#
# other paramater values
minTopWaterLayer = 0.05
minCropKC        = 0.2
cropDeplFactor   = 0.2
minInterceptCap  = 0.0002

cropCoefficientNC = global_30min_from_gmd_paper_input/landSurface/landCover/irrPaddy/Global_CropCoefficientKc-IrrPaddy_30min.nc


# initial conditions:
interceptStorIni = MAIN_INITIAL_STATE_FOLDER/interceptStor_irrPaddy_DATE_FOR_INITIAL_STATES.map
snowCoverSWEIni  = MAIN_INITIAL_STATE_FOLDER/snowCoverSWE_irrPaddy_DATE_FOR_INITIAL_STATES.map
snowFreeWaterIni = MAIN_INITIAL_STATE_FOLDER/snowFreeWater_irrPaddy_DATE_FOR_INITIAL_STATES.map
topWaterLayerIni = MAIN_INITIAL_STATE_FOLDER/topWaterLayer_irrPaddy_DATE_FOR_INITIAL_STATES.map
storUppIni       = MAIN_INITIAL_STATE_FOLDER/storUpp_irrPaddy_DATE_FOR_INITIAL_STATES.map
storLowIni       = MAIN_INITIAL_STATE_FOLDER/storLow_irrPaddy_DATE_FOR_INITIAL_STATES.map
interflowIni     = MAIN_INITIAL_STATE_FOLDER/interflow_irrPaddy_DATE_FOR_INITIAL_STATES.map

noParameterExtrapolation = True


[irrNonPaddyOptions]

name = irrNonPaddy
debugWaterBalance = True

# snow module properties
snowModuleType      =  Simple
freezingT           =  0.0
degreeDayFactor     =  0.0055
snowWaterHoldingCap =  0.1
refreezingCoeff     =  0.05
#
landCoverMapsNC  = None
# If NC file is not provided, we have to provide the following values:
fracVegCover     = global_30sec/landSurface/landCover/irrigated_fractions/global_estimate_irrigation_non_paddy_fraction_30sec.nc
minSoilDepthFrac = 0.99
maxSoilDepthFrac = 1.01
rootFraction1    = global_30min_from_gmd_paper_input/landSurface/landCover/irrNonPaddy/rfrac1_nonpaddy.nc
rootFraction2    = global_30min_from_gmd_paper_input/landSurface/landCover/irrNonPaddy/rfrac2_nonpaddy.nc
maxRootDepth     = 1.0
#
# Parameters for the Arno's scheme:
arnoBeta = None
# If arnoBeta is defined, the soil water capacity distribution is based on this.
# If arnoBeta is NOT defined, maxSoilDepthFrac must be defined such that arnoBeta will be calculated based on maxSoilDepthFrac and minSoilDepthFrac.
#
# other paramater values
minTopWaterLayer = 0.0
minCropKC        = 0.2
cropDeplFactor   = 0.5
minInterceptCap  = 0.0002

cropCoefficientNC = global_30min_from_gmd_paper_input/landSurface/landCover/irrNonPaddy/Global_CropCoefficientKc-IrrNonPaddy_30min.nc

# initial conditions:

interceptStorIni = MAIN_INITIAL_STATE_FOLDER/interceptStor_irrNonPaddy_DATE_FOR_INITIAL_STATES.map
snowCoverSWEIni  = MAIN_INITIAL_STATE_FOLDER/snowCoverSWE_irrNonPaddy_DATE_FOR_INITIAL_STATES.map
snowFreeWaterIni = MAIN_INITIAL_STATE_FOLDER/snowFreeWater_irrNonPaddy_DATE_FOR_INITIAL_STATES.map
topWaterLayerIni = MAIN_INITIAL_STATE_FOLDER/topWaterLayer_irrNonPaddy_DATE_FOR_INITIAL_STATES.map
storUppIni       = MAIN_INITIAL_STATE_FOLDER/storUpp_irrNonPaddy_DATE_FOR_INITIAL_STATES.map
storLowIni       = MAIN_INITIAL_STATE_FOLDER/storLow_irrNonPaddy_DATE_FOR_INITIAL_STATES.map
interflowIni     = MAIN_INITIAL_STATE_FOLDER/interflow_irrNonPaddy_DATE_FOR_INITIAL_STATES.map

noParameterExtrapolation = True


[groundwaterOptions]

debugWaterBalance = True

#~ groundwaterPropertiesNC = global_05min/groundwater/properties/groundwaterProperties5ArcMin.nc
groundwaterPropertiesNC    = None
#
recessionCoeff = global_30sec/groundwater/properties/version_202102XX/recession_coefficient_30sec.nc
kSatAquifer    = global_30sec/groundwater/properties/version_202102XX/k_conductivity_aquifer_filled_30sec.nc
specificYield  = global_30sec/groundwater/properties/version_202102XX/specific_yield_aquifer_filled_30sec.nc
#
# minimum value for groundwater recession coefficient (day-1) 
# - about 11 years
minRecessionCoeff = 0.00025
#~ # - about 27 years
#~ minRecessionCoeff = 1.0e-4

#~ (pcrglobwb_python3) sutan101@gpu038.cluster:/scratch/depfg/sutan101/data/pcrglobwb_input_arise/develop/global_30sec/groundwater/properties/version_202102XX$ ls -lah *.nc
#~ -rw-r--r-- 1 sutan101 depfg 3.5G Mar  1 16:32 k_conductivity_aquifer_filled_30sec.nc
#~ -rw-r--r-- 1 sutan101 depfg 3.5G Mar  1 16:32 recession_coefficient_30sec.nc
#~ -rw-r--r-- 1 sutan101 depfg 3.5G Mar  1 16:33 specific_yield_aquifer_filled_30sec.nc

# some options for constraining groundwater abstraction
limitFossilGroundWaterAbstraction      = True
estimateOfRenewableGroundwaterCapacity = 0.0
estimateOfTotalGroundwaterThickness    = global_30sec/groundwater/aquifer_thickness_estimate/version_2020-09-XX/thickness_05min_remapbil_to_30sec_filled_with_pcr_correct_lat.nc
# minimum and maximum total groundwater thickness 
minimumTotalGroundwaterThickness       = 100.
maximumTotalGroundwaterThickness       = None

#~ (pcrglobwb_python3) sutan101@gpu038.cluster:/scratch/depfg/sutan101/data/pcrglobwb_input_arise/develop/global_30sec/groundwater/aquifer_thickness_estimate/version_2020-09-XX$ ls -lah *.nc
#~ -rw-r--r-- 1 sutan101 depfg 3.5G Jan 28 17:49 diff.nc
#~ -rw-r--r-- 1 sutan101 depfg 3.5G Jan 28 17:52 thickness_05min_remapbil_to_30sec_filled.nc
#~ -rw-r--r-- 1 sutan101 depfg 3.5G Jan 28 17:54 thickness_05min_remapbil_to_30sec_filled_with_pcr_correct_lat.nc
#~ -rw-r--r-- 1 sutan101 depfg 3.5G Jan 28 17:53 thickness_05min_remapbil_to_30sec_filled_with_pcr.map.nc
#~ -rw-r--r-- 1 sutan101 depfg 3.5G Jan 28 17:51 thickness_05min_remapbil_to_30sec.nc

doNotExtrapolateThickness = True
noParameterExtrapolation  = True

# annual pumping capacity for each region (unit: billion cubic meter per year), should be given in a netcdf file
pumpingCapacityNC    = global_30min_from_gmd_paper_input/waterUse/groundwater_pumping_capacity/regional_abstraction_limit.nc

# zonal IDs (scale) at which zonal allocation of groundwater is performed  
allocationSegmentsForGroundwater    = global_05min_from_gmd_paper_input/waterUse/abstraction_zones/abstraction_zones_30min_05min.nc
#~ allocationSegmentsForGroundwater = False




# initial conditions:
storGroundwaterIni                           = MAIN_INITIAL_STATE_FOLDER/storGroundwater_DATE_FOR_INITIAL_STATES.map
#~ storGroundwaterIni                        = ESTIMATE_FROM_GROUNDWATER_RECHARGE_RATE

storGroundwaterFossilIni                     = MAIN_INITIAL_STATE_FOLDER/storGroundwaterFossil_DATE_FOR_INITIAL_STATES.map
#~ storGroundwaterFossilIni                  = Maximum

avgNonFossilGroundwaterAllocationLongIni     = MAIN_INITIAL_STATE_FOLDER/avgNonFossilGroundwaterAllocationLong_DATE_FOR_INITIAL_STATES.map
avgNonFossilGroundwaterAllocationShortIni    = MAIN_INITIAL_STATE_FOLDER/avgNonFossilGroundwaterAllocationShort_DATE_FOR_INITIAL_STATES.map
avgTotalGroundwaterAbstractionIni            = MAIN_INITIAL_STATE_FOLDER/avgTotalGroundwaterAbstraction_DATE_FOR_INITIAL_STATES.map
avgTotalGroundwaterAllocationLongIni         = MAIN_INITIAL_STATE_FOLDER/avgTotalGroundwaterAllocationLong_DATE_FOR_INITIAL_STATES.map
avgTotalGroundwaterAllocationShortIni        = MAIN_INITIAL_STATE_FOLDER/avgTotalGroundwaterAllocationShort_DATE_FOR_INITIAL_STATES.map
relativeGroundwaterHeadIni                   = MAIN_INITIAL_STATE_FOLDER/relativeGroundwaterHead_DATE_FOR_INITIAL_STATES.map
baseflowIni                                  = MAIN_INITIAL_STATE_FOLDER/baseflow_DATE_FOR_INITIAL_STATES.map

# we need avgStorGroundwater for a non linear groundwater reservoir
avgStorGroundwaterIni                        = MAIN_INITIAL_STATE_FOLDER/avgStorGroundwater_DATE_FOR_INITIAL_STATES.map


# option to start with the maximum value for storGroundwaterFossilIni (this will set/lead to storGroundwaterFossilIni = Maximum ; overwrite/overrule existing storGroundwaterFossilIni)
#~ useMaximumStorGroundwaterFossilIni        = True
#~ useMaximumStorGroundwaterFossilIni        = False
useMaximumStorGroundwaterFossilIni           = USE_MAXIMUM_STOR_GROUNDWATER_FOSSIL_INI


# option to start with the value of storGroundwaterIni estimated from groundwater recharge (this will set/lead to storGroundwaterIni = ESTIMATE_FROM_GROUNDWATER_RECHARGE_RATE)
#~ estimateStorGroundwaterIniFromRecharge    = True
#~ estimateStorGroundwaterIniFromRecharge    = False
estimateStorGroundwaterIniFromRecharge       = ESTIMATE_STOR_GROUNDWATER_INI_FROM_RECHARGE
dailyGroundwaterRechargeIni                  = DAILY_GROUNDWATER_RECHARGE_INI


[routingOptions]

debugWaterBalance = True

# drainage direction map
lddMap      = global_30sec/routing/surface_water_bodies/version_2020-05-XX/lddsound_30sec_version_202005XX_correct_lat.nc

# cell area (unit: m2)
cellAreaMap = global_30sec/routing/cell_area/cdo_grid_area_30sec_map_correct_lat.nc

# routing method:
routingMethod = accuTravelTime

# manning coefficient
manningsN   = 0.04

# Option for flood plain simulation
dynamicFloodPlain = True

# manning coefficient for floodplain
floodplainManningsN = 0.07


#~ pcrglobwb_python3) sutan101@gpu038.cluster:/scratch/depfg/sutan101/data/pcrglobwb_input_arise/develop/global_30sec/routing/channel_properties/version_2021-02-XX/maps_covered_with_zero$ ls -lah *.nc
#~ -rw-r--r-- 1 sutan101 depfg 25G Mar  1 15:52 channel_parameters_30sec_february_2021_global_covered_with_zero.nc

# channel gradient
gradient             = global_30sec/routing/channel_properties/version_2021-02-XX/maps_covered_with_zero/channel_gradient_channel_parameters_30sec_february_2021_global_covered_with_zero.nc

# constant channel depth 
constantChannelDepth = global_30sec/routing/channel_properties/version_2021-02-XX/maps_covered_with_zero/bankfull_depth_channel_parameters_30sec_february_2021_global_covered_with_zero.nc

# constant channel width (optional)
constantChannelWidth = global_30sec/routing/channel_properties/version_2021-02-XX/maps_covered_with_zero/bankfull_width_channel_parameters_30sec_february_2021_global_covered_with_zero.nc

# minimum channel width (optional)
minimumChannelWidth  = global_30sec/routing/channel_properties/version_2021-02-XX/maps_covered_with_zero/bankfull_width_channel_parameters_30sec_february_2021_global_covered_with_zero.nc

# channel properties for flooding
bankfullCapacity     = None
# - If None, it will be estimated from (bankfull) channel depth (m) and width (m) 

# files for relative elevation (above minimum dem) 
relativeElevationFiles  = global_30sec/landSurface/topography/merit_dem_processed/version_2021-02-XX/maps_covered_with_zero/dzRel%04d_topography_parameters_30sec_february_2021_global_covered_with_zero.nc
relativeElevationLevels = 0.0, 0.01, 0.05, 0.10, 0.20, 0.30, 0.40, 0.50, 0.60, 0.70, 0.80, 0.90, 1.00


# composite crop factors for WaterBodies: 
cropCoefficientWaterNC = global_30min_from_gmd_paper_input/routing/kc_surface_water/cropCoefficientForOpenWater.nc
minCropWaterKC         = 1.00

#~ (pcrglobwb_python3) sutan101@gpu038.cluster:/scratch/depfg/sutan101/data/pcrglobwb_input_arise/develop/global_30sec/routing/surface_water_bodies/version_2020-05-XX$ ls -lah *.nc
#~ -r--r--r-- 1 sutan101 depfg 209G Jan 28 19:05 lakes_and_reservoirs_30sec_global_2010_to_2019_version_202005XX.nc
#~ -r--r--r-- 1 sutan101 depfg  21G Jan 28 19:09 lakes_and_reservoirs_30sec_global_2019_version_202005XX.nc
#~ -r--r--r-- 1 sutan101 depfg 1.8G Jan 28 19:10 lddsound_30sec_version_202005XX_correct_lat.nc
#~ -r--r--r-- 1 sutan101 depfg 891M Jan 28 19:10 lddsound_30sec_version_202005XX.nc

# lake and reservoir parameters
includeWaterBodies        = True
#~ waterBodyInputNC       = africa_30sec/routing/surface_water_bodies/version_20200525/lakes_and_reservoirs_30sec_africa_version_may_2020.nc
waterBodyInputNC          = global_30sec/routing/surface_water_bodies/version_2020-05-XX/lakes_and_reservoirs_30sec_global_2019_version_202005XX.nc
#~ fracWaterInp           = None
#~ waterBodyIds           = None
#~ waterBodyTyp           = None
#~ resMaxCapInp           = None
#~ resSfAreaInp           = None
onlyNaturalWaterBodies    = False

#~ (pcrglobwb_python3) sutan101@gpu038.cluster:/scratch/depfg/sutan101/data/pcrglobwb_input_arise/develop/africa_30sec/routing/surface_water_bodies/version_20200525$ ls -lah *
#~ -rw-r--r-- 1 sutan101 depfg 329G May 25  2020 lakes_and_reservoirs_30sec_africa_version_may_2020.nc
#~ -rw-r--r-- 1 sutan101 depfg  151 Mar 11 15:43 source.txt


# initial conditions:
waterBodyStorageIni            = MAIN_INITIAL_STATE_FOLDER/waterBodyStorage_DATE_FOR_INITIAL_STATES.map
channelStorageIni              = MAIN_INITIAL_STATE_FOLDER/channelStorage_DATE_FOR_INITIAL_STATES.map
readAvlChannelStorageIni       = MAIN_INITIAL_STATE_FOLDER/readAvlChannelStorage_DATE_FOR_INITIAL_STATES.map
avgDischargeLongIni            = MAIN_INITIAL_STATE_FOLDER/avgDischargeLong_DATE_FOR_INITIAL_STATES.map
avgDischargeShortIni           = MAIN_INITIAL_STATE_FOLDER/avgDischargeShort_DATE_FOR_INITIAL_STATES.map
m2tDischargeLongIni            = MAIN_INITIAL_STATE_FOLDER/m2tDischargeLong_DATE_FOR_INITIAL_STATES.map
avgBaseflowLongIni             = MAIN_INITIAL_STATE_FOLDER/avgBaseflowLong_DATE_FOR_INITIAL_STATES.map
riverbedExchangeIni            = MAIN_INITIAL_STATE_FOLDER/riverbedExchange_DATE_FOR_INITIAL_STATES.map
subDischargeIni                = MAIN_INITIAL_STATE_FOLDER/subDischarge_DATE_FOR_INITIAL_STATES.map
avgLakeReservoirInflowShortIni = MAIN_INITIAL_STATE_FOLDER/avgLakeReservoirInflowShort_DATE_FOR_INITIAL_STATES.map
avgLakeReservoirOutflowLongIni = MAIN_INITIAL_STATE_FOLDER/avgLakeReservoirOutflowLong_DATE_FOR_INITIAL_STATES.map
timestepsToAvgDischargeIni     = MAIN_INITIAL_STATE_FOLDER/timestepsToAvgDischarge_DATE_FOR_INITIAL_STATES.map


[reportingOptions]

# landmask for reporting
landmask_for_reporting = None

# output files that will be written in the disk in netcdf files:
# - daily resolution
outDailyTotNC    = discharge,totalRunoff,gwRecharge,totalGroundwaterAbstraction,surfaceWaterStorage,temperature,precipitation,referencePotET,satDegUpp,satDegLow,satDegTotal,totalEvaporation,channelStorage,dynamicFracWat,floodVolume,floodDepth,surfaceWaterLevel
#~ outDailyTotNC = discharge,totalRunoff
# - monthly resolution
outMonthTotNC = actualET,irrPaddyWaterWithdrawal,irrNonPaddyWaterWithdrawal,domesticWaterWithdrawal,industryWaterWithdrawal,livestockWaterWithdrawal,runoff,totalRunoff,baseflow,directRunoff,interflowTotal,totalGroundwaterAbstraction,desalinationAbstraction,surfaceWaterAbstraction,nonFossilGroundwaterAbstraction,fossilGroundwaterAbstraction,irrGrossDemand,nonIrrGrossDemand,totalGrossDemand,nonIrrWaterConsumption,nonIrrReturnFlow,precipitation,gwRecharge,surfaceWaterInf,referencePotET,totalEvaporation,totalPotentialEvaporation,totLandSurfaceActuaET,totalLandSurfacePotET,waterBodyActEvaporation,waterBodyPotEvaporation
outMonthAvgNC = discharge,temperature,dynamicFracWat,surfaceWaterStorage,interceptStor,snowFreeWater,snowCoverSWE,topWaterLayer,storUppTotal,storLowTotal,storGroundwater,storGroundwaterFossil,totalActiveStorageThickness,totalWaterStorageThickness,satDegUpp,satDegLow,channelStorage,waterBodyStorage
outMonthEndNC = storGroundwater,storGroundwaterFossil,waterBodyStorage,channelStorage,totalWaterStorageThickness,totalActiveStorageThickness
# - annual resolution
outAnnuaTotNC = totalEvaporation,precipitation,gwRecharge,totalRunoff,baseflow,desalinationAbstraction,surfaceWaterAbstraction,nonFossilGroundwaterAbstraction,fossilGroundwaterAbstraction,totalGroundwaterAbstraction,totalAbstraction,irrGrossDemand,nonIrrGrossDemand,totalGrossDemand,nonIrrWaterConsumption,nonIrrReturnFlow,runoff,actualET,irrPaddyWaterWithdrawal,irrNonPaddyWaterWithdrawal,irrigationWaterWithdrawal,domesticWaterWithdrawal,industryWaterWithdrawal,livestockWaterWithdrawal,precipitation_at_irrigation,netLqWaterToSoil_at_irrigation,evaporation_from_irrigation,transpiration_from_irrigation,referencePotET
outAnnuaAvgNC = temperature,discharge,surfaceWaterStorage,waterBodyStorage,interceptStor,snowFreeWater,snowCoverSWE,topWaterLayer,storUppTotal,storLowTotal,storGroundwater,storGroundwaterFossil,totalWaterStorageThickness,satDegUpp,satDegLow,channelStorage,waterBodyStorage,fractionWaterBodyEvaporation,fractionTotalEvaporation,fracSurfaceWaterAllocation,fracDesalinatedWaterAllocation,gwRecharge
outAnnuaEndNC = surfaceWaterStorage,interceptStor,snowFreeWater,snowCoverSWE,topWaterLayer,storUppTotal,storLowTotal,storGroundwater,storGroundwaterFossil,totalWaterStorageThickness
# - monthly and annual maxima
outMonthMaxNC = channelStorage,dynamicFracWat,floodVolume,floodDepth,surfaceWaterLevel,discharge,totalRunoff
outAnnuaMaxNC = channelStorage,dynamicFracWat,floodVolume,floodDepth,surfaceWaterLevel,discharge,totalRunoff

#~ # netcdf format and zlib setup
#~ formatNetCDF = NETCDF4
#~ zlib = True

